@page
@model Proyecto.EstudioSocioeconomicoModel
@{
    ViewData["Title"] = "Estudio";
    Layout = "_Login";
}

@{
    if(@Model.visit.Id <= 0)
    {
        @using(Html.BeginForm())
        {
            <form method = "Post">
                <table class="table table-info table-striped " style="margin-top:10%;">
                    <!--Head-->
                    <thead class="thead-dark">
                        <tr>
                        <th scope="col">Codigo</th>
                        <th scope="col">Tutor</th>
                        <th scope="col">Alumno</th>
                        <th scope="col">Direcciòn</th>
                        <th scope="col">Accion</th>
                        </tr>
                    </thead>
                
                    <tbody>
                        @foreach (var item in @Model.Visits)
                        {
                            <tr>
                            <td>@Html.DisplayFor(m => item.Id)</td>
                            <td>@Html.DisplayFor(m => item.Tutor.LastName)</td>
                            <td>@Html.DisplayFor(m => item.Tutor.student.FirstName)</td>
                            <td>@Html.DisplayFor(m => item.Tutor.student.Address)</td>
                            <td><input type="submit" asp-route-VisitId ="@item.Id" value="Encuestar"></td>
                            </tr>
                        }
                    </tbody>
            </table>
        </form>
        }
    }
    else
    {
        @using(Html.BeginForm()) //Estudio socioeconomico
        {            
            <!DOCTYPE html>
            <html lang="en" />
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
                <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
                <script src="js/ESEC.js">

                </script>
                <title>Document</title>
            </head>


            <body>
                <form method="POST">
                            <div class="card justify-content-center " style="width: 80%; margin-left:10%; margin-top:5%; margin-bottom:20%">
                                    <div class="card-header text-center" style="background-color: #CC33CC; ">
                                        Informacion socio economica
                                    </div>

                                    <ul class="list-group list-group-flush" >
                                        <li class="list-group-item " >
                                            <div class="form-row m-3 ">
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Ingresos mensuales:</label>
                                                        <input asp-for="Study.Income" type="number" min="0" class="form-control" id="Ingresos" onchange="test()" placeholder="Ingresos mensuales" value="0">
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Egresos mensuales:</label>
                                                        <input asp-for="Study.Expenses" type="number" min="0" class="form-control" id="Egresos" onchange="test()"  placeholder="" value="0" readonly>
                                                    </div>
                                                </div> 
                                            </div>
                                            <div class="form-row m-3 ">
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Alimentacion:</label>
                                                        <input asp-for="Study.Feeding" type="number" id="Alimentacion" min="0" class="form-control"  onchange="test()" value="0" onchange="test()">
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Servicios:</label>
                                                        <input asp-for="Study.Services" type="number" min="0" class="form-control" id="Servicios" onchange="test()" value="0" placeholder="Servicios">
                                                    </div>
                                                </div> 
                                            </div>
                                            <div class="form-row m-3 ">
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Vivienda:</label>
                                                        <input asp-for="Study.Recidence" type="number" min="0" class="form-control" id="Vivienda" onchange="test()" value="0" placeholder="Vivienda">
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Escolaridad:</label>
                                                        <input asp-for="Study.Fees" type="number" min="0" class="form-control" id="Escolaridad" onchange="test()" value="0" placeholder="Escolaridad">
                                                    </div>
                                                </div> 
                                            </div>
                                            <div class="form-row m-3 ">
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Transporte:</label>
                                                        <input asp-for="Study.Transport" type="number" min="0" class="form-control" id="Transporte" value="0" onchange="test()" placeholder="Transporte">
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group mx-sm-3 mb-2">
                                                        <label  for="user" >Otro:</label>
                                                        <input asp-for="Study.Other" type="number" id="Otro" min="0" class="form-control"  value="0" onchange="test()">
                                                    </div>
                                                </div> 
                                            </div>
                                        </li>

                                        <li class="list-group-item text-center" style="background-color: #CC33CC; ">
                                            <label for="" class="text-center"> Vivienda </label>
                                        </li>

                                        <li class="list-group-item " >
                                            <div class="row">
                                                <div class="col text-center">
                                                    <div  style="background-color: rgb(107, 77, 107);">
                                                        <label  style="color: #fff;">Servicios</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-row m-5 ">
                                                <div class="col-md-auto-md-auto">
                                                    <div class="form-check">
                                                        <input  asp-for="Services[0]" type="checkbox" id="blankCheckbox" value="Recolección de basura" aria-label="..." >
                                                        Recolección de basura
                                                    </div>
                                                    <div class="form-check">
                                                        <input  asp-for="Services[1]" type="checkbox" id="blankCheckbox" value="Luz" aria-label="...">
                                                        Luz
                                                    </div>
                                                    <div class="form-check">
                                                        <input  asp-for="Services[2]" type="checkbox" id="blankCheckbox" value="Pavimentación" aria-label="...">
                                                        Pavimentación
                                                    </div>
                                                </div>
                                                <div class="col-md-auto-md-auto">
                                                    <div class="form-check">
                                                        <input asp-for="Services[3]" type="checkbox" id="blankCheckbox" value="Alumbrado" aria-label="...">
                                                        Alumbrado
                                                    </div>
                                                    <div class="form-check">
                                                        <input asp-for="Services[4]" type="checkbox" id="blankCheckbox" value="Transporte" aria-label="...">
                                                        Transporte
                                                    </div>
                                                    <div class="form-check">
                                                        <input asp-for="Services[5]" type="checkbox" id="blankCheckbox" value="Drenaje" aria-label="...">
                                                        Drenaje
                                                    </div>
                                                </div>
                                                <div class="col-md-auto-md-auto">
                                                    <div class="form-check">
                                                        <input asp-for="Services[6]" type="checkbox" id="blankCheckbox" value="Agua" aria-label="...">
                                                        Agua
                                                    </div>
                                                </div>
                                            </div>    
                                        </li>
                                        
                                        <li class="list-group-item">
                                            <div class="row">
                                                <div class="col text-center">
                                                    <div  style="background-color: rgb(107, 77, 107);">
                                                        <label  style="color: #fff;">Area</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-row m-5">
                                                <div class="col-md-auto-md-auto ">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Place" id="Comunidad" value="Cominidad indigena" aria-label="...">
                                                        Cominidad indigena
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Place" id="Comunidad" value="Rural" aria-label="...">
                                                        Rural
                                                    </div>
                                                </div>
                                                <div class="col-md-auto-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Place" required id="Comunidad" value="Urbana" aria-label="...">
                                                        Urbana
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Place" id="Comunidad" value="Marginación" aria-label="...">
                                                        Marginación
                                                    </div>
                                                </div>
                                                <div class="col-md-auto-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Place" id="Comunidad" value="Suburbana" aria-label="...">
                                                        Suburbana
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        
                                        <li class="list-group-item">
                                            <div class="row">
                                                <div class="col text-center">
                                                    <div  style="background-color: rgb(107, 77, 107);">
                                                        <label  style="color: #fff;">Construcción</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-row m-5">
                                                <div class="col-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" required id="blankRadio1" value="adobe" aria-label="...">
                                                        adobe
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="ladrillo" aria-label="...">
                                                        ladrillo
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="otro material" aria-label="...">
                                                        otro material
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="block" aria-label="...">
                                                        block 
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="lamina de acero" aria-label="...">
                                                        lamina de acero
                                                    </div>
                                                    
                                                </div>
                                                <div class="col-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="palma" aria-label="...">
                                                        palma
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="carrizo" aria-label="...">
                                                        carrizo
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="lamina de carton" aria-label="...">
                                                        lamina de carton
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="piedra" aria-label="...">
                                                        piedra
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="cemento" aria-label="...">
                                                        cemento
                                                    </div>
                                                </div>
                                                <div class="col-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="madera" aria-label="...">
                                                        madera
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="tabique" aria-label="...">
                                                        tabique
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="concreto" aria-label="...">
                                                        concreto
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Material" id="blankRadio1" value="mixto" aria-label="...">
                                                        mixto
                                                    </div>
                                                </div>

                                            </div>
                                        </li>
                                        
                                        <li class="list-group-item">
                                            <div class="row">
                                                <div class="col text-center">
                                                    <div  style="background-color: rgb(107, 77, 107);">
                                                        <label  style="color: #fff;">Status</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-row m-5">
                                                <div class="col-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" required name="Study.Status" id="Status" value="Propia" aria-label="...">
                                                        Propia
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Status" id="Status" value="Rentada" aria-label="...">
                                                        Rentada
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Status" id="Status" value="Prestada" aria-label="...">
                                                        Prestada
                                                    </div>
                                                </div>

                                                <div class="col-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Status" id="Status" value="Invasión" aria-label="...">
                                                        Invasión
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Status" id="Status" value="No tiene" aria-label="...">
                                                        No tiene
                                                    </div>
                                                </div>
                                                <div class="col-md-auto">
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Status" id="Status" value="Compartida" aria-label="...">
                                                        Compartida
                                                    </div>
                                                    <div class="form-check">
                                                        <input  type="radio" name="Study.Status" id="Status" value="Comprada" aria-label="...">
                                                        Comprada
                                                    </div>
                                                </div>   
                                            </div>
                                        </li>
                                    </ul>
                                    <li class="list-group-item">
                                        <div class="row">
                                            <div class="col text-center">
                                                <div  style="background-color: rgb(107, 77, 107);">
                                                    <label  style="color: #fff;">Mobiliario</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class = "form-row m-5">
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="exampleFormControlTextarea1">La vivienda cuenta con (Moviliaria):</label>
                                                    <textarea asp-for="Study.Furniture" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="list-group-item">
                                        <div class="row">
                                            <div class="col text-center">
                                                <div  style="background-color: rgb(107, 77, 107);">
                                                    <label  style="color: #fff;">Observaciones</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class = "form-row m-5">
                                            <div class="col">
                                                <div class="form-group">
                                                    <label for="exampleFormControlTextarea1">Se pudo observar que:</label>
                                                    <textarea asp-for="Study.Observations" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </li> 
                                    <li class="list-group-item justify-content-end">
                                        <div class="row justify-content-end">
                                            <div class="btn-group btn-group-justified" role="group" aria-label="..."> 
                                                <div class="btn-group" role="group">
                                                    <input type="submit" asp-page-handler="Terminate" asp-route-StudyId="@Model.visit.EconomicStudy.Id" asp-route-VisitId="@Model.visit.Evaluator.Id" class="btn btn-outline-success" value="Terminar"> 
                                                </div>
                                            </div>
                                        </div>
                                    </li> 
                            </div>   
                </form>   
            </body> 
        }
    }
}
